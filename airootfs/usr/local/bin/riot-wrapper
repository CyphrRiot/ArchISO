#!/bin/bash
# ArchRiot ISO Interactive Wrapper
# Asks user before running installer or dropping to shell

# Set up proper terminal environment
export TERM=linux
export LANG=C.UTF-8
export LC_ALL=C.UTF-8

# Clear screen and show banner
clear
echo "=================================="
echo "    ArchRiot Installation ISO"
echo "=================================="
echo
echo "Welcome! This ISO contains the ArchRiot installer and"
echo "all packages needed for a complete offline installation."
echo
echo -n "Would you like to run the installer? [Y/n]: "

# Read user input
read -r response

# Default to yes if empty
if [[ -z "$response" || "$response" =~ ^[Yy]$ ]]; then
    echo
    echo "Starting ArchRiot installer..."
    echo
    exec /usr/local/bin/riot
else
    echo
    echo "Dropping to shell. You can run 'riot' manually anytime."
    echo "Type 'poweroff' or 'reboot' to exit."
    echo
    exec /bin/bash --login
fi
